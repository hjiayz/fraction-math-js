{"version":3,"file":"index.js","sources":["index.js"],"names":["window","global","g","gcd","a","b","gcdsub","_x","_x2","p1","p2","isZero","mod","abs","reduction","n","d","dividedBy","nsign","isNegative","times","Opt","opt","this","getPriority","includes","priority","F","isOpt","i","notOpt","BracketOrNum","op","+","-","*","/","strp","s","fst","match","reduce","v","concat","length","test","a1","v1","map","Infix2Postfix","e","r","top","pop","o","push","popb","forEach","reverse","pack","value","toBN","BigNumber","BNaN","toFrac","toFraction","isInt","One","apply","undefined","_toConsumableArray","toF","evalPrefix","evalPostfix","ope","ev","args","Array","_len","_key","arguments","Object","defineProperties","writable","isNaN","toString","toFixed","join","y","x","px","py","nx","ny","plus","g1","g2","eq","_len2","_key2","_bind","BNInit","bn","NaN","define","amd","module","exports","require","FractionMathJs"],"mappings":"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","sourcesContent":["var window,global;\n;(function(g){\n  \"use strict\"\n  const gcd=function(a,b){\n    let gcdsub=(p1,p2)=>p1.isZero()?p2:gcdsub(p2.mod(p1),p1);\n    return gcdsub(a.abs(),b.abs());\n  }\n  const reduction=function(n,d){//reduction of a fraction\n    let g=gcd(n,d);\n    return [n.dividedBy(g),d.dividedBy(g)];\n  }\n  const nsign=(n,d)=>(d.isNegative())?[n.times(-1),d.abs()]:[n,d];//set negative sign\n  class Opt{\n    constructor(opt){\n      this.opt=opt;\n      let getPriority=(opt)=>[\"+\",\"-\"].includes(opt)?1:[\"*\",\"/\"].includes(opt)?2:0;\n      this.priority=getPriority(opt);\n    }\n    toString(){\n      return this.opt;\n    }\n  }\n  class F {\n    constructor(...args){\n      let isOpt=(i)=>(i instanceof Opt);\n      let notOpt=(i)=>(!isOpt(i));\n      let BracketOrNum=(i)=>!(notOpt(i)||(i.priority===0));\n      let op=(opt)=>({\n        \"+\":\"plus\",\n        \"-\":\"minus\",\n        \"*\":\"times\",\n        \"/\":\"dividedBy\"\n      }[opt]);\n      let strp=(s,fst)=>s.match(/\\S+/g).reduce((a,v,i)=>\n        a.concat(((fst&&(i==0))||((a.length>0)&&(/[^0-9\\.]$/.test(a[a.length-1]))))?\n        v.match(/((^|[^0-9\\.])-|)[0-9\\.]+|[^0-9\\.]/g):\n        v.match(/([^0-9\\.]-|)[0-9\\.]+|[^0-9\\.]/g)),[]).reduce(\n          (a1,v1)=>a1.concat(v1.match(/(-|)[0-9\\.]+|[^0-9\\.]/g)),[]).map(\n            (i)=>(/^(-|)[0-9\\.]+$/.test(i)?i:new Opt(i)));//parse string\n      let Infix2Postfix=function(e){//convert infix to postfix\n        let s=[],r=[];\n        let top=()=>s[s.length-1];\n        let pop=function(o){\n          while ((!!top())&&(o.priority<=top().priority)) {\n            r.push(s.pop());\n          }\n        }\n        let popb=function(){\n          if (!top()){return;}\n          while (top().opt!==\"(\"){\n            r.push(s.pop());\n          }\n          s.pop();\n        }\n        e.forEach(((i)=>((notOpt(i)?r.push(i):(i.opt==\"(\")?s.push(i):(i.opt==\")\")?popb():(pop(i),s.push(i))))));\n        r=r.concat(s.reverse());\n        return r;\n      }\n      let pack=function(v,d){//convert to fractional form\n        if (v instanceof F)\n          return v.value;\n        let toBN=(n)=>(n instanceof BigNumber)?n:[\"string\",\"number\"].includes(typeof(n))?new BigNumber(n):BNaN;\n        let toFrac=(n)=>n.toFraction().map((i)=>new BigNumber(i));\n        if (!d){\n          let n=toBN(v);\n          if (n.isInt())\n            return [n,One];\n          return toFrac(n);\n        }\n        v=toBN(v);\n        d=toBN(d);\n        if (v.isInt()&&d.isInt())\n          return reduction(...nsign(v,d));\n        let toF=(n)=>new F(...toFrac(n));\n        return toF(v).dividedBy(toF(d));\n      }\n      let evalPrefix=function(e){//prefix evaluate\n        let s=[];\n        e.reverse().forEach((i)=>isOpt(i)?s.push((new F(s.pop()))[op(i.opt)](new F(s.pop()))):s.push(i));\n        return new F(s[0]).value;\n      }\n      let evalPostfix=function(e){//postfix evaluate\n        let s=[];\n        let ope=(o,a,b)=>(new F(b))[op(o)](new F(a));\n        e.forEach((i)=>isOpt(i)?s.push(ope(i.opt,s.pop(),s.pop())):s.push(i));\n        return new F(s[0]).value;\n      }\n      let ev=(a)=>((a.length===0)?[BNaN,BNaN]:\n        (a.length===1)?pack(a[0]):\n          (a.length===2)?pack(a[0],a[1]):\n            BracketOrNum(a[0])?evalPrefix(a):\n              BracketOrNum(a[a.length-1])?evalPostfix(a):\n                evalPostfix(Infix2Postfix(a)));//evaluate\n      let value;\n      try {\n        value=ev(args.reduce((a,v,i)=>typeof(v)===\"string\"?\n          a.concat(strp(v,(i==0)||((a.length>0)&&isOpt(a[a.length-1])))):\n          a.concat(v),[]));//get result.\n      }\n      catch (e){\n        value=[BNaN,BNaN];\n      }\n      Object.defineProperties(this,{\n        \"n\":{\n          \"value\":value[0],//numerator\n          \"writable\":false\n        },\n        \"d\":{\n          \"value\":value[1],//denominator\n          \"writable\":false\n        }\n      });\n      //define closure function for read the value;\n    }\n    toString(){\n      if (this.isNaN()) return BNaN.toString();\n      if (this.isInt()) return this.n.toFixed();\n      return [this.n.toFixed(),this.d.toFixed()].join(\"/\");\n    }\n    toJSON(){\n      return this.toString();\n    }\n    valueOf(){\n      return this.toString();\n    }\n    toBigNumber(){\n      return this.n.dividedBy(this.d);\n    }\n    plus(y){\n      let x=this;\n      let g=gcd(x.d,y.d);\n      let px=y.d.dividedBy(g);\n      let py=x.d.dividedBy(g);\n      let d=px.times(x.d);\n      let nx=px.times(x.n);\n      let ny=py.times(y.n);\n      let n=nx.plus(ny);\n      let r=reduction(...nsign(n,d));\n      return r;\n    }\n    minus(y){\n      let x=this;\n      return x.plus(new F(y.n.times(-1),y.d));\n    }\n    times(y){\n      let x=this;\n      if (x.d.isZero()||y.d.isZero())\n        return [BNaN,BNaN];\n      let g1=gcd(x.d,y.n);\n      let g2=gcd(x.n,y.d);\n      let d=x.d.dividedBy(g1).times(y.d.dividedBy(g2));\n      let n=x.n.dividedBy(g2).times(y.n.dividedBy(g1));\n      let r=nsign(n,d);\n      return r;\n    }\n    dividedBy(y){\n      let x=this;\n      return x.times(new F(y.d,y.n));\n    }\n    isNaN(){\n      return this.n.isNaN()||this.d.isNaN();\n    }\n    isInt(){\n      return this.d.eq(1);\n    }\n    isNegative(){\n      return this.n.isNegative();\n    }\n    get value(){\n      return [this.n,this.d];//get value\n    }\n    static builder(...args){\n      return new F(...args);\n    }\n  }\n  let BigNumber,One,BNaN;\n  let BNInit=(bn)=>(BigNumber=bn,One=new bn(1),BNaN=new bn(NaN));\n  // AMD.\n  if ( typeof define == 'function' && define.amd ) {\n    define( [\"bignumber.js\"] , (bn)=>(BNInit(bn),F) );\n  // CommonJS.\n  } else if ( typeof module != 'undefined' && module.exports ) {\n    BNInit(require(\"bignumber.js\"));\n    module.exports = F;\n  // Global.\n  } else {\n    BNInit(g.BigNumber);\n    g.FractionMathJs = F;\n  }\n})(window||global);\n//node --harmony --harmony_array_includes"]}