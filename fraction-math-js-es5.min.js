"use strict";function _toConsumableArray(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var _bind=Function.prototype.bind,_createClass=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),window,global;!function(n){var t=function(n,t){var e=function(n,t){for(var e=!0;e;){var r=n,i=t;if(e=!1,r.isZero())return i;n=i.mod(r),t=r,e=!0}};return e(n.abs(),t.abs())},e=function(n,e){var r=t(n,e);return[n.dividedBy(r),e.dividedBy(r)]},r=function(n,t){return t.isNegative()?[n.times(-1),t.abs()]:[n,t]},i=function(){function n(t){_classCallCheck(this,n),this.opt=t;var e=function(n){return["+","-"].includes(n)?1:["*","/"].includes(n)?2:0};this.priority=e(t)}return _createClass(n,[{key:"toString",value:function(){return this.opt}}]),n}(),u=function(){function n(){_classCallCheck(this,n);var t=function(n){return n instanceof i},u=function(n){return!t(n)},c=function(n){return!(u(n)||0===n.priority)},f=function(n){return{"+":"plus","-":"minus","*":"times","/":"dividedBy"}[n]},d=function(n,t){return n.match(/\S+/g).reduce(function(n,e,r){return n.concat(t&&0==r||n.length>0&&/[^0-9\.]$/.test(n[n.length-1])?e.match(/((^|[^0-9\.])-|)[0-9\.]+|[^0-9\.]/g):e.match(/([^0-9\.]-|)[0-9\.]+|[^0-9\.]/g))},[]).reduce(function(n,t){return n.concat(t.match(/(-|)[0-9\.]+|[^0-9\.]/g))},[]).map(function(n){return/^(-|)[0-9\.]+$/.test(n)?n:new i(n)})},l=function(n){var t=[],e=[],r=function(){return t[t.length-1]},i=function(n){for(;r()&&n.priority<=r().priority;)e.push(t.pop())},o=function(){if(r()){for(;"("!==r().opt;)e.push(t.pop());t.pop()}};return n.forEach(function(n){return u(n)?e.push(n):"("==n.opt?t.push(n):")"==n.opt?o():(i(n),t.push(n))}),e=e.concat(t.reverse())},v=function(t,i){if(t instanceof n)return t.value;var u=function(n){return n instanceof o?n:["string","number"].includes(typeof n)?new o(n):s},c=function(n){return n.toFraction().map(function(n){return new o(n)})};if(!i){var f=u(t);return f.isInt()?[f,a]:c(f)}if(t=u(t),i=u(i),t.isInt()&&i.isInt())return e.apply(void 0,_toConsumableArray(r(t,i)));var d=function(t){return new(_bind.apply(n,[null].concat(_toConsumableArray(c(t)))))};return d(t).dividedBy(d(i))},h=function(e){var r=[];return e.reverse().forEach(function(e){return t(e)?r.push(new n(r.pop())[f(e.opt)](new n(r.pop()))):r.push(e)}),new n(r[0]).value},p=function(e){var r=[],i=function(t,e,r){return new n(r)[f(t)](new n(e))};return e.forEach(function(n){return t(n)?r.push(i(n.opt,r.pop(),r.pop())):r.push(n)}),new n(r[0]).value},y=function(n){return 0===n.length?[s,s]:1===n.length?v(n[0]):2===n.length?v(n[0],n[1]):c(n[0])?h(n):p(c(n[n.length-1])?n:l(n))},g=void 0;try{for(var m=arguments.length,b=Array(m),w=0;m>w;w++)b[w]=arguments[w];g=y(b.reduce(function(n,e,r){return"string"==typeof e?n.concat(d(e,0==r||n.length>0&&t(n[n.length-1]))):n.concat(e)},[]))}catch(k){g=[s,s]}Object.defineProperties(this,{n:{value:g[0],writable:!1},d:{value:g[1],writable:!1}})}return _createClass(n,[{key:"toString",value:function(){return this.isNaN()?s.toString():this.isInt()?this.n.toFixed():[this.n.toFixed(),this.d.toFixed()].join("/")}},{key:"toJSON",value:function(){return this.toString()}},{key:"valueOf",value:function(){return this.toString()}},{key:"toBigNumber",value:function(){return this.n.dividedBy(this.d)}},{key:"plus",value:function(n){var i=this,u=t(i.d,n.d),o=n.d.dividedBy(u),a=i.d.dividedBy(u),s=o.times(i.d),c=o.times(i.n),f=a.times(n.n),d=c.plus(f),l=e.apply(void 0,_toConsumableArray(r(d,s)));return l}},{key:"minus",value:function(t){var e=this;return e.plus(new n(t.n.times(-1),t.d))}},{key:"times",value:function(n){var e=this;if(e.d.isZero()||n.d.isZero())return[s,s];var i=t(e.d,n.n),u=t(e.n,n.d),o=e.d.dividedBy(i).times(n.d.dividedBy(u)),a=e.n.dividedBy(u).times(n.n.dividedBy(i)),c=r(a,o);return c}},{key:"dividedBy",value:function(t){var e=this;return e.times(new n(t.d,t.n))}},{key:"isNaN",value:function(){return this.n.isNaN()||this.d.isNaN()}},{key:"isInt",value:function(){return this.d.eq(1)}},{key:"isNegative",value:function(){return this.n.isNegative()}},{key:"value",get:function(){return[this.n,this.d]}}],[{key:"builder",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return new(_bind.apply(n,[null].concat(e)))}}]),n}(),o=void 0,a=void 0,s=void 0,c=function(n){return o=n,a=new n(1),s=new n(NaN)};"function"==typeof define&&define.amd?define(["bignumber.js"],function(n){return c(n),u}):"undefined"!=typeof module&&module.exports?(c(require("bignumber.js")),module.exports=u):(c(n.BigNumber),n.FractionMathJs=u)}(window||global);
//# sourceMappingURL=fraction-math-js-es5.map